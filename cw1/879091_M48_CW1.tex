\documentclass[11pt, oneside]{article}   	% use "amsart" instead of "article" for AMSLaTeX format
\usepackage{geometry}                		% See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   		% ... or a4paper or a5paper or ... 
\usepackage{graphicx}			
\usepackage{amssymb}
\usepackage{caption}
\usepackage{gensymb}
\PassOptionsToPackage{hyphens}{url}\usepackage[hidelinks]{hyperref}
\frenchspacing
\usepackage{lmodern}  % for bold teletype font
\usepackage{amsmath}  % for \hookrightarrow

\usepackage{listings,xcolor}
\definecolor{purple}{HTML}{B100A7}
\definecolor{cred}{HTML}{E35C75}
\definecolor{dkgreen}{rgb}{0,.6,0}
\definecolor{dkblue}{rgb}{0,0,.6}
\definecolor{dkyellow}{cmyk}{0,0,.8,.3}

\lstset{
  language        = PHP,
  basicstyle      = \small\ttfamily,
  keywordstyle    = \color{purple},
  stringstyle     = \color{dkgreen},
  commentstyle    = \color{gray},
  breaklines=true,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
  %identifierstyle = \color{dkyellow},
  emph    = [1] {__halt_compiler,    abstract,   and,    array,
                    as, break,  callable,   case,   catch,  class,
                    clone,  const,  continue,   declare,    default,
                    die, do, echo,   else,   elseif,
                    empty,  enddeclare, endfor, endforeach, endif,
                    endswitch,  endwhile,   eval,   exit,   extends,
                    final,  finally,    for,    foreach,    function,
                    global, goto, if,   implements, include,
                    include_once,   instanceof, insteadof,
                    interface,  isset, list,    namespace,
                    new,    or, print, private, protected,  public,
                    require,    require_once, return,   static,
                    switch, throw,  trait, try, unset, use, var,
                    while,  xor, yield, parent, Schema},
  emphstyle = [1]\color{purple},
}

\makeatletter

\lstdefinestyle{mystyle}
{
    language = PHP,
    basicstyle = {\ttfamily \color{black}},
    identifierstyle = \@identifierstyle,
    stringstyle = {\color{dkgreen}},
    keywordstyle = {\color{purple}},
    keywordstyle = [2]{\color{cred}},
    keywordstyle = [3]{\color{purple}},
    otherkeywords = {::, <?php, ->},
    morekeywords = [2]{<?php, ?>},
    morekeywords = [3]{::, ->},
    %morecomment=[s][\color{dkyellow}]{new }{\;}
}[keywords,strings,comments]

\def\@headtoken#1#2\end{\noexpand#1}

\def\@identifierstyle{%
    \edef\@tempa{\expandafter\@headtoken\the\lst@token\end}%
    \edef\@tempb{\expandafter\noexpand\csname lst@um$\endcsname}%
    \ifx\@tempa\@tempb
        % apply special style for identifies staring with '_'
        \color{cred}%
    \else
        % normal identifier style
        \color{black}%
    \fi
}

\makeatother

\usepackage[newfloat]{minted}
\usepackage{caption}

\newenvironment{code}{\captionsetup{type=listing}}{}


%SetFonts
\usepackage[explicit]{titlesec}

%SetFonts

\title{\textbf{CSCM48 - Web Application Development} \\ Coursework 1}
\author{\bf Cristian Sorescu 879091}
%\date{}							% Activate to display a given date or no date

\begin{document}
\maketitle

\newpage
\tableofcontents
\newpage

\section{Models}

\begin{code}
\captionof{listing}{User.php}
\label{code:User}
\inputminted[style=xcode, frame=single]{php}{../app/User.php}
\end{code}

\begin{code}
\captionof{listing}{Post.php}
\label{code:Post}
\inputminted[style=xcode, frame=single]{php}{../app/Post.php}
\end{code}

\begin{code}
\captionof{listing}{Comment.php}
\label{code:Comment}
\inputminted[style=xcode, frame=single]{php}{../app/Comment.php}
\end{code}

\begin{code}
\captionof{listing}{Profile.php}
\label{code:Profile}
\inputminted[style=xcode, frame=single]{php}{../app/Profile.php}
\end{code}

\begin{code}
\captionof{listing}{Tag.php}
\label{code:Tag}
\inputminted[style=xcode, frame=single]{php}{../app/Tag.php}
\end{code}

\begin{code}
\captionof{listing}{View.php}
\label{code:View}
\inputminted[style=xcode, frame=single]{php}{../app/View.php}
\end{code}

\begin{code}
\captionof{listing}{Vote.php}
\label{code:Vote}
\inputminted[style=xcode, frame=single]{php}{../app/Vote.php}
\end{code}

\section{Migrations}

\begin{code}
\captionof{listing}{create\_users\_table.php}
\label{code:create_users_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2014_10_12_000000_create_users_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_posts\_table.php}
\label{code:create_posts_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_10_092051_create_posts_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_comments\_table.php}
\label{code:create_comments_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_19_140013_create_comments_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_profiles\_table.php}
\label{code:create_profiles_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_24_103603_create_profiles_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_views\_table.php}
\label{code:create_views_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_19_140030_create_views_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_votes\_table.php}
\label{code:create_votes_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_19_145927_create_votes_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_tags\_table.php}
\label{code:create_tags_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_21_224826_create_tags_table.php}
\end{code}

\begin{code}
\captionof{listing}{create\_post\_tag\_table.php}
\label{code:create_post_tag_table}
\inputminted[style=xcode, frame=single]{php}{../database/migrations/2019_10_21_225350_create_post_tag_table.php}
\end{code}

\section{Seeds}

\begin{code}
\captionof{listing}{UsersTableSeeder.php}
\label{code:UsersTableSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/UsersTableSeeder.php}
\end{code}

\begin{code}
\captionof{listing}{PostsTableSeeder.php}
\label{code:PostsTableSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/PostsTableSeeder.php}
\end{code}

\begin{code}
\captionof{listing}{TagsTableSeeder.php}
\label{code:TagsTableSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/TagsTableSeeder.php}
\end{code}

\begin{code}
\captionof{listing}{CommentsTableSeeder.php}
\label{code:CommentsTableSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/CommentsTableSeeder.php}
\end{code}

\begin{code}
\captionof{listing}{VotesTableSeeder.php}
\label{code:VotesTableSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/VotesTableSeeder.php}
\end{code}

\begin{code}
\captionof{listing}{ViewsTableSeeder.php}
\label{code:ViewsTableSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/ViewsTableSeeder.php}
\end{code}

\begin{code}
\captionof{listing}{DatabaseSeeder.php}
\label{code:DatabaseSeeder}
\inputminted[style=xcode, frame=single]{php}{../database/seeds/DatabaseSeeder.php}
\end{code}

\section{Factories}

\begin{code}
\captionof{listing}{UserFactory.php}
\label{code:UserFactory}
\inputminted[style=xcode, frame=single]{php}{../database/factories/UserFactory.php}
\end{code}

\begin{code}
\captionof{listing}{PostFactory.php}
\label{code:PostFactory}
\inputminted[style=xcode, frame=single]{php}{../database/factories/PostFactory.php}
\end{code}

\begin{code}
\captionof{listing}{CommentFactory.php}
\label{code:CommentFactory}
\inputminted[style=xcode, frame=single]{php}{../database/factories/CommentFactory.php}
\end{code}

\begin{code}
\captionof{listing}{TagFactory.php}
\label{code:TagFactory}
\inputminted[style=xcode, frame=single]{php}{../database/factories/TagFactory.php}
\end{code}

\begin{code}
\captionof{listing}{ViewFactory.php}
\label{code:ViewFactory}
\inputminted[style=xcode, frame=single]{php}{../database/factories/ViewFactory.php}
\end{code}

\begin{code}
\captionof{listing}{VoteFactory.php}
\label{code:VoteFactory}
\inputminted[style=xcode, frame=single]{php}{../database/factories/VoteFactory.php}
\end{code}

\end{document}  